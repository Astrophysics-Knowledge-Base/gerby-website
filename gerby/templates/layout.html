<!doctype html>
<html>
<head>

{% macro tagURL(tag) -%}/tag/{{ tag }}{%- endmacro %}

<meta charset="utf-8">

<title>{% block title %}{% endblock %}&mdash;Stacks Project</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tag.css') }}">

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      extensions: ['tex2jax.js'],
      jax: ['input/TeX','output/HTML-CSS'],
      TeX: {
        extensions: ['AMSmath.js', 'AMSsymbols.js', '/static/XyJax/extensions/TeX/xypic.js'],
        Macros: {
          linebreak: ["", 1, ""],
          },
        TagSide: 'left'
      },
      tex2jax: {
        inlineMath: [['$','$']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      },
      'HTML-CSS': { scale: 100 }
    });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js">
  </script>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='jquery-bonsai/jquery.bonsai.css') }}">
  <script type="text/javascript" src="/static/jquery-bonsai/jquery.bonsai.js"></script>

  <link rel="icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">
</head>

<body>
<div class="container-fluid bounded">
  <div class="row topbar inner-top top">
    <header class="col">
      <h1><a href="/">The Stacks Project</a></h1>
    </header>

    <form class="col" id="searchform">
      <input type="text" placeholder=" keywords or tags"></input>
    </form>
  </div>

  <nav class="row topbar sticky-top">
    <ul class="crumbs col-11">
      <li class="crumb"><a href="/browse">Table of contents</a></li>
      {% block breadcrumb %}{% endblock %}
    </ul>

    <div class="col-1">
      <span class="burger">&#9776;</span>
     </div>
  </nav>

  <div class="row" id="content">
    <section id="main" class="col">
      {% block body %}{% endblock %}
    </section>

    <section id="meta" class="col-4">
      {% block neighbours %}{% endblock %}
      <!-- TODO implement toggle between proofs and no proofs, and numbers versus tags
        for inspiration, see https://ux.stackexchange.com/questions/1318/should-a-toggle-button-show-its-current-state-or-the-state-to-which-it-will-chan

        i.e. I want something like
        proofs    off [ |x] on
        labels   tags [ |x] numbers
      -->
    </section>
  </div>

  <script type="text/javascript">
link.click(function() {
  $("*[data-tag]").each(function(index, reference) {
    var value = $(reference).attr("data-tag");
    $(reference).attr("data-tag", $(reference).text())
    $(reference).text(value);
  });
});
  </script>

</body>
</html>
