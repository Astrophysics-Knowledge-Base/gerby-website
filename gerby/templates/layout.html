<!doctype html>
<html>
<head>

{% import "macros.html" as macros %}

<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

<title>{% block title %}{% endblock %}&mdash;The Stacks project</title>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/print.css') }}">

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      extensions: ['tex2jax.js'],
      jax: ['input/TeX','output/HTML-CSS'],
      TeX: {
        extensions: ['AMSmath.js', 'AMSsymbols.js', '/static/XyJax/extensions/TeX/xypic.js'],
        Macros: {
          linebreak: ["", 1, ""],
          },
        TagSide: 'left'
      },
      tex2jax: {
        inlineMath: [['$','$']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      },
      'HTML-CSS': { scale: 100 }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

  <style type="text/css"> <!-- TODO move this to CSS file -->
.toggle-off {
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
}
.toggle.off {
  border-color: rgba(0, 0, 0, .25);
}

.toggle-handle {
  background-color: white;
  border: thin rgba(0, 0, 0, .25) solid;
}

div.toggle,
div.toggle:hover,
div.toggle:active {
  display: block;
  margin: auto;
  background-color: #edece6 !important;
  border-color: rgba(0, 0, 0, .25) !important;
}

div.btn-primary,
div.btn-primary:hover,
div.btn-primary:active {
  border-color: rgba(0, 0, 0, .25);
}

label.toggle-on,
label.toggle-off {
  background-color: #edece6;
  color: black;
}

label.toggle-on:hover,
label.toggle-off:hover,
label.toggle-on:active,
label.toggle-off:active {
  background-color: #d9d8d1 !important;
  color: black !important;
}
  </style>

  <link rel="icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">

  {% block head %}{% endblock %}
</head>

<body>
<div class="container-fluid bounded">
  <div id="first-bar" class="row topbar inner-top top">
    <header class="col">
      <h1><a href="/">The Stacks project</a></h1>
    </header>

    <nav id="header">
      <ul id="quicklinks">
        <li><a href="/bibliography">bibliography</a>
        <li><a href="http://math.columbia.edu/~dejong/wordpress/">blog</a>
      </ul>

      <form id="quicksearch" action="/search">
        <span id="search-icon"><img src="/static/images/search.svg"></span>
        <input type="search" name="query" size="16" placeholder="keywords or a tag"{% if not search %} autofocus{% endif %} value="{{ query }}"></input>
      </form>
    </nav>
  </div>

  <nav id="second-bar" class="row topbar sticky-top">
    {% if self.breadcrumb() %}
      <ul class="col-11 col-sm-11 col-md-11 col-lg-12 col-xl-12" id="crumbs">
        <li><a href="/browse">Table of contents</a></li>
        {% block breadcrumb %}{% endblock %}
      </ul>
    {% endif %}

    {% if self.hamburger() %}
      <div class="col-1 col-sm-1 col-md-1" id="burger">
        <input type="checkbox" id="burger-input"></input>

        <label id="burger-icon" for="burger-input">
          <span id="top-bun"></span>
          <span id="meat"></span>
          <span id="bottom-bun"></span>
        </label>

        <div id="burger-content">
          {% block hamburger %}{% endblock %}
        </div>
      </div>
    {% endif %}

    {% if self.tagline() %}
      {% block tagline %}{% endblock %}
    {% endif %}
  </nav>

  <div class="row" id="content">
    <section id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-xl-8">
      {% block body %}{% endblock %}

      <br style="clear:both">

      <div class="alert alert-info">This is the <strong>test version</strong> of the new website for the Stacks project. If you encounter an issue, please create an issue at
        <ul>
          <li><a href="https://github.com/pbelmans/plastex"><code>pbelmans/plastex</code></a> if it relates to what the HTML of a single tag looks like (or you can leave a comment)
          <li><a href="https://github.com/pbelmans/gerby-website"><code>pbelmans/gerby-website</code></a> if it relates to anything else (or if you are unsure)
        </ul>
      </div>
    </section>
	  <div class="col-lg-4 col-xl-4">
	    <section id="meta" class="row topbar sticky-top">
        {% block sidebar %}{% endblock %}
      </section>
    </div>
  </div>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.bundle.min.js"></script>

</body>
</html>
