<!doctype html>
<html>
<head>

{% macro tagURL(tag) -%}/tag/{{ tag }}{%- endmacro %}
{% import "macros.html" as macros %}

<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>{% block title %}{% endblock %}&mdash;Stacks Project</title>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/print.css') }}">

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      extensions: ['tex2jax.js'],
      jax: ['input/TeX','output/HTML-CSS'],
      TeX: {
        extensions: ['AMSmath.js', 'AMSsymbols.js', '/static/XyJax/extensions/TeX/xypic.js'],
        Macros: {
          linebreak: ["", 1, ""],
          },
        TagSide: 'left'
      },
      tex2jax: {
        inlineMath: [['$','$']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      },
      'HTML-CSS': { scale: 100 }
    });
  </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js">
  </script>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

  <link rel="icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/static/stacks.ico">

  {% block head %}{% endblock %}
</head>

<body>
<div class="container-fluid bounded">
  <div id="first-bar" class="row topbar inner-top top">
    <header class="col">
      <h1><a href="/">The Stacks Project</a></h1>
    </header>

    <nav id="header">
      <ul id="quicklinks">
        <li><a href="/bibliography">bibliography</a>
        <li><a href="http://math.columbia.edu/~dejong/wordpress/">blog</a>
      </ul>

      <form id="quicksearch" action="/search">
        <span id="search-icon"><img src="/static/images/search.svg"></span>
        <input type="search" name="query" placeholder="keywords or a tag"{% if not search %} autofocus{% endif %}></input>
      </form>
    </nav>
  </div>

  <nav id="second-bar" class="row topbar sticky-top">
    {% if self.breadcrumb() %}
      <ul class="col-11 col-sm-11 col-md-11 col-lg-12 col-xl-12" id="crumbs">
        <li><a href="/browse">Table of contents</a></li>
        {% block breadcrumb %}{% endblock %}
      </ul>
    {% endif %}

    {% if self.hamburger() %}
      <div class="col-1 col-sm-1 col-md-1" id="burger">
        <input type="checkbox" id="burger-input"></input>

        <label id="burger-icon" for="burger-input">
          <span id="top-bun"></span>
          <span id="meat"></span>
          <span id="bottom-bun"></span>
        </label>

        <div id="burger-content">
          {% block hamburger %}{% endblock %}
        </div>
      </div>
    {% endif %}
  </nav>

  <div class="row" id="content">
    <section id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-xl-8">
      {% block body %}{% endblock %}
    </section>
	  <div class="col-lg-4 col-xl-4">
	    <section id="meta" class="row topbar sticky-top">
        {% block sidebar %}{% endblock %}
      </section>
    </div>
  </div>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.bundle.min.js"></script>

</body>
</html>
